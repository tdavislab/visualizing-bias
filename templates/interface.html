<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Visualizing Word Vector Biases</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../static/css/style.css">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <h1 class="navbar-brand">Visualizing Word Vector Biases</h1>
</nav>

<div class="container-fluid p-4">

  <div id="preloaded-examples" class="dropdown">

    <button class="col-sm-12 btn dropdown-toggle borders bg-dark-red text-light" type="button" id="example-selection-button" data-toggle="dropdown">
      Choose an example or provide seedword sets below
    </button>
    <div id="example-dropdown" class="dropdown-menu col-sm-12">
      <h6 class="dropdown-header">Example class 1</h6>
      <a class="dropdown-item">Choose an example or provide seedword sets below </a>
      <a class="dropdown-item">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</a>
      <a class="dropdown-item">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</a>
      <a class="dropdown-item">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</a>
      <h6 class="dropdown-header">Example class 2</h6>
      <a class="dropdown-item">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</a>
      <a class="dropdown-item">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</a>
      <a class="dropdown-item">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</a>
    </div>
  </div>

  <div id="algorithm-selection" class="dropdown mt-3">
    <button class="col-sm-12 btn dropdown-toggle borders bg-dark-red text-light" type="button" id="algorithm-selection-button" data-toggle="dropdown">
      Select Algorithm
    </button>
    <div id="algorithm-dropdown" class="dropdown-menu col-sm-12">
      <h6 class="dropdown-header">Select Algorithm</h6>
      <a class="dropdown-item active">Linear debiasing</a>
      <a class="dropdown-item">Hard debiasing</a>
      <a class="dropdown-item">OSCaR</a>
      <a class="dropdown-item">Iterative Null Space Projection</a>
    </div>
  </div>

  <div id="subspace-controls" class="row mt-3">
    <div id="subspace-dropdown" class="col-4 dropdown">
      <button class="w-100 btn dropdown-toggle borders bg-dark-red text-light" type="button" id="subspace-selection-button" data-toggle="dropdown">
        Select subspace method
      </button>
      <div id="subspace-dropdown-items" class="w-100 dropdown-menu">
        <h6 class="dropdown-header">Select subspace method</h6>
        <a class="dropdown-item active">Two means</a>
        <a class="dropdown-item">PCA</a>
        <a class="dropdown-item">PCA-paired</a>
        <a class="dropdown-item">Classification</a>
      </div>
    </div>
    <div id="top-bar" class="col-8">
      <div id="input-two-col" class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="concept-label-1">Concept 1</span>
        </div>
        <input id="seedword-text-1" class="form-control input-group-text" type="text" placeholder="Add seed set 1...">

        <input id="seedword-text-2" class="form-control input-group-text" type="text" placeholder="Add seed set 2...">
      </div>

      <div id="input-two-col-oscar" class="input-group mt-3">
        <div class="input-group-prepend">
          <span class="input-group-text" id="concept-label-2">Concept 2</span>
        </div>
        <input id="oscar-seedword-text-1" class="form-control input-group-text" type="text" placeholder="Add seed set 1...">
        {#        <input id="oscar-seedword-text-2" class="form-control input-group-text" type="text" placeholder="Add seed set 2...">#}
      </div>
    </div>
  </div>

  <div id="equalize-holder" class="mt-3 input-group" style="display: None">
    <div class="input-group-prepend">
          <span class="input-group-text" id="equalize-label">Equalize set</span>
        </div>
    <input id="equalize-list" class="form-control input-group-text" type="text" placeholder="Add equalize set for Hard Debiasing...">
  </div>

  <div id="eval-and-run" class=" mt-3 input-group">
    <div class="input-group-prepend">
          <span class="input-group-text" id="eval-label">Evaluation set</span>
        </div>
    <input id="evaluation-list" class="form-control input-group-text" type="text" placeholder="Add evaluation set...">
    <div class="input-group-append">
      <button id="seedword-form-submit" class="btn btn-outline-primary">Run</button>
    </div>
  </div>

  <div id="weat-score" class="row center-block" hidden>
    <h5 id="weat-predebiased" style="margin: auto"></h5>
    <h5 id="weat-postdebiased" style="margin: auto"></h5>
    <div class="dropdown mr-4">
      <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true">
        Debiasing Method
      </button>
      <div class="dropdown-menu">
        <a class="dropdown-item">Linear Debiasing</a>
        <a class="dropdown-item">OSCaR</a>
      </div>
    </div>
  </div>

  <div id="projections" class="row m-3" style="height: 45% !important;">
    <div class="col-md-4" align="center">
      <h5 class="text-center">Initial Embedding</h5>
      <svg id="pre-debiased-svg" width="100%" height="100%"></svg>
    </div>

    <div class="col-md-4" align="center">
      <h5 class="text-center">Intermediate Steps</h5>
      <svg id="animation-svg" width="100%" height="100%"></svg>
    </div>

    <div class="col-md-4">
      <h5 class="text-center">Debiased Embedding</h5>
      <svg id="post-debiased-svg" width="100%" height="100%"></svg>
    </div>
  </div>

  <div id="animation-controls" class="row justify-content-center pt-4 pb-3">
    <div class="btn-group">
      <button id='play-control-fb' class="btn btn-success" title="Go to the start of animation">
        <i class="fa fa-fast-backward"></i>
      </button>
      <span class="btn-separator"></span>
      <button id='play-control-sb' class="btn btn-success" title="Step backward">
        <i class="fa fa-step-backward"></i>
      </button>
      <span class="btn-separator"></span>
      {#      <button id='play-control-play' class="btn btn-success" title="Play animation">#}
      {#        <i class="fa fa-play"></i>#}
      {#      </button>#}
      {#      <span class="btn-separator"></span>#}
      <button id='play-control-sf' class="btn btn-success" title="Step forward">
        <i class="fa fa-step-forward"></i>
      </button>
      <span class="btn-separator"></span>
      <button id='play-control-ff' class="btn btn-success" title="Go to the end of animation">
        <i class="fa fa-fast-forward"></i>
      </button>
    </div>
  </div>

  <div id="toolbar" class="row justify-content-center">
    <div class="btn-toolbar">
      <button id='toggle-labels-btn' class="btn btn-success mr-2" disabled>
        <i id='toggle-label-icon' class="fa fa-toggle-on" aria-hidden="true"></i>
        <span>Data labels</span>
      </button>

      <button id='remove-points-btn' class="btn btn-success mr-2" disabled>
        <i class="fa fa-trash" aria-hidden="true"></i>
        <span>Remove points</span>
      </button>

      <button id='toggle-mean-btn' class="btn btn-success mr-2" disabled>
        <i id='toggle-mean-icon' class="fa fa-toggle-on" aria-hidden="true"></i>
        <span>Show bias direction</span>
      </button>

      <button id='toggle-eval-btn' class="btn btn-success mr-2" disabled>
        <i id='toggle-eval-icon' class="fa fa-toggle-on" aria-hidden="true"></i>
        <span>Show evaluation points</span>
      </button>
    </div>
  </div>

  <hr/>
  <div id="explanation" class="row m-3">
    <div class="col-md-1">
      <h5> Explanation </h5>
    </div>
    <div class="col-md-11">
      <div id="explanation-text" class="explanation-text text-slightly-muted">Explanation for current step goes here</div>
    </div>
  </div>
</div>
</body>

<script src="../static/javascript/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.0/Chart.js"></script>
<script src="../static/javascript/d3.v5.min.js"></script>
<script src="../static/javascript/interface.js"></script>
</html>